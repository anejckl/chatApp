<div class="main">
<div class="chat-card">
    <mat-card>
        <mat-card-header>
            <mat-card-title transloco="CHAT.MODEL.TITLE"></mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
            <div class="chat-container">
                <div class="message" *ngFor="let message of messages"
                [ngClass]="{ 'sender': message.role === 'user', 'receiver': message.role === 'assistant' }">
                    <mat-card>
                        <mat-card-content>
                            {{ message.content }}
                        </mat-card-content>
                    </mat-card>
                </div>
                <mat-divider *ngIf="messages.length > 0"></mat-divider>
                <div class="user-input">
                    <mat-form-field appearance="outline">
                        <input matInput placeholder="Ask your question" [(ngModel)]="userInput">
                    </mat-form-field>
                    <button mat-button [disabled]="!userInput" (click)="sendMessage()">
                        <mat-icon>reply</mat-icon>
                    </button>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>
<div class="model-card">
    <mat-card>
            <mat-card-header>
                <mat-card-title transloco="CHAT.SETTINGS.TITLE"></mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
                <div class="info-container">
                    <div class="settings-container">
                        <h3>{{'CHAT.MODEL.NAME' | transloco}}</h3>
                        <mat-form-field>
                            <mat-select [(ngModel)]="modelName" (selectionChange)="updateModelSettings()">
                                <mat-option value="gpt-4">GPT-4</mat-option>
                                <mat-option value="gpt-4-turbo">GPT-4 Turbo</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="settings-container">
                        <h3>{{'CHAT.MODEL.TEMPERATURE' | transloco}}</h3>
                        <mat-slider min="0" max="1" step="0.1" showTickMarks>
                            <input matSliderThumb [(ngModel)]="temperature" (valueChange)="updateModelSettings()">
                        </mat-slider>
                    </div>
                </div>
            </mat-card-content>
    </mat-card>
</div>
</div>
